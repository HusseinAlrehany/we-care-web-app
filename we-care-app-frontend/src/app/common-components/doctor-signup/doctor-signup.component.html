<div class="container">
    <h2>Doctor Sign Up</h2>
    <form [formGroup]="doctorSignupForm" (ngSubmit)="signUpAsDoctor()">
        <!--for image upload-->
         <div class="file-upload-container">
            <label class="file-upload-label">
               <span>Upload Personal Photo</span>
               <input type="file" id="fileInput" (change)="onSelectedDoctorPhotoFile($event)" hidden>
               <mat-icon>attach_icon</mat-icon>
            </label>

            <div *ngIf="selectedDoctorPhotoFile" class="image-preview">
                <div class="circle-image">
                     <img [src]="doctorPhotoPreview" alt="Selected Image" class="preview-image">
                </div>

            </div>

         </div>
        <!--end of image upload-->

        <!--for image upload-->
         <div class="file-upload-container">
            <label class="file-upload-label">
               <span>Upload Medical Licence Card</span>
               <input type="file" id="fileInput" (change)="onSelectedMedicalFile($event)" hidden>
               <mat-icon>attach_icon</mat-icon>
            </label>

            <div *ngIf="selectedMedicalCardFile" class="image-preview">
                <div class="circle-image">
                     <img [src]="medicalCardPreview
                     " alt="Selected Image" class="preview-image">
                </div>

            </div>

         </div>
        <!--end of image upload-->


        <mat-form-field appearance="outline" class="form-field">
             <mat-label>Select a Speciality</mat-label>
             <mat-select formControlName="specialityId" name="specialityId">
                <mat-option *ngFor="let speciality of listOfSpecialities" [value]="speciality.id"> 
                    {{speciality.name}}
                </mat-option>            
             </mat-select>
             <mat-error *ngIf="doctorSignupForm.get('specialityId')?.hasError('required')">
                     This input is required.
             </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>First Name</mat-label>
          <input matInput formControlName="firstName" placeholder="First Name" required/>
          <mat-error *ngIf="doctorSignupForm.get('firstName')?.hasError('required')">
             This input is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Last Name</mat-label>
          <input matInput formControlName="lastName" placeholder="Last Name" required/>
          <mat-error *ngIf="doctorSignupForm.get('lastName')?.hasError('required')">
             This input is required.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
          <mat-label>E-mail</mat-label>
          <input matInput formControlName="email" placeholder="E-mail" required/>
          <mat-error *ngIf="doctorSignupForm.get('email')?.hasError('required')">
             This input is required.
          </mat-error>
        </mat-form-field>


        <mat-form-field appearance="outline" class="form-field">
            <mat-label>Mobile</mat-label>
            <input matInput formControlName="mobile" placeholder="Mobile" required/>
            <mat-error *ngIf="doctorSignupForm.get('mobile')?.hasError('required')">
               This input is required.
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="form-field">
            <mat-label>Brief Introduction </mat-label>
            <input matInput formControlName="briefIntroduction" placeholder="Brief Introduction" required/>
            <mat-error *ngIf="doctorSignupForm.get('briefIntroduction')?.hasError('required')">
               This input is required.
            </mat-error>
          </mat-form-field>


          <mat-form-field appearance="outline">
               <mat-label>Password</mat-label>
               <input type="{{ hidePassword ? 'password' : 'text'}}" matInput formControlName="password" placeholder="password" required>
               <button mat-icon-button matSuffix (click)="togglePasswordVisibility()">
                  <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
               </button>
               <mat-error *ngIf="doctorSignupForm.get('password')?.invalid && doctorSignupForm.get('password')?.touched">
                Please enter valid password.
               </mat-error>
            </mat-form-field>


             <mat-form-field appearance="outline">
                <mat-label>confirmPassword</mat-label>
                <input type="{{ hidePassword ? 'password' : 'text'}}" matInput formControlName="confirmPassword" placeholder="password" required>
                <button mat-icon-button matSuffix (click)="togglePasswordVisibility()">
                   <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                </button>
                <mat-error *ngIf="doctorSignupForm.get('confirmPassword')?.invalid && doctorSignupForm.get('confirmPassword')?.touched">
                 Please enter valid confirmation password.
                </mat-error>
             </mat-form-field>

          <button mat-raised-button color="primary" type="submit">Sign Up</button>
    </form>

</div>

